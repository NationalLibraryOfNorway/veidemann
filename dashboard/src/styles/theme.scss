@use '@angular/material' as mat;
@use './theme-colors' as theme-colors;
@use 'sass:map';


$dark-focused: rgba(black, 0.12);

//@mixin highlight ($theme) {
//
//
//  .is-active {
//    background-color: $highlight;
//  }
//}

@mixin highlight($theme) {
  $highlight: mat.get-theme-color($theme, surface-container-high);
  .is-active {
    background-color: light-dark(#d5d4d5, #2f3031); // lys og mørk bakgrunn
    color: light-dark(#000000, #ffffff); // lys og mørk tekst
  }
}

@mixin main-toolbar-style($theme) {
  .main-toolbar {
    background-color: mat.get-theme-color($theme, primary);
    color: mat.get-theme-color($theme, on-primary);
  }
}

@mixin veidemann-disabled-configs($theme) {
  tr.item-row.row-disabled td a.formattedUri,
  tr.resource-row.row-error td a.formattedUri {
    color: mat.get-theme-color($theme, error);
  }

  .disabledJob .mat-list-item-content {
    color: mat.get-theme-color($theme, error);
  }
}


@mixin veidemann-button-variants($theme) {
  .btn-tertiary {
    @include mat.button-color($theme, tertiary);
  }

  .btn-primary {
    @include mat.button-color($theme, primary);
  }

  .btn-error {
    @include mat.button-color($theme, error);
  }
}


@mixin nav-bar-link($theme) {
  $primary: mat.get-theme-color($theme, primary);
  $on-primary: mat.get-theme-color($theme, on-primary);

  .mat-mdc-tab-link {
    color: rgba($primary, 0.6); // inaktiv fane
  }

  .mat-mdc-tab-link.mat-mdc-tab-link-active {
    color: $primary; // aktiv fane
    font-weight: 500;
  }
}

@mixin veidemann-nav-list-style($theme) {
  $primary: mat.get-theme-color($theme, primary);
  $on-primary: mat.get-theme-color($theme, on-primary);
  $hover-bg: mat.get-theme-color($theme, surface-container-highest);
  $active-bg: light-dark(#d5d4d5, #2f3031);
  $active-color: light-dark(#000000, #ffffff);

  .mat-mdc-list-item {
    border-radius: 4px;
    transition: background-color 0.2s ease;

    &:hover {
      background-color: $hover-bg;
    }
  }

  .mat-mdc-list-item.is-active {
    background-color: $active-bg;
    color: $active-color;

    .mat-mdc-list-item-title,
    .mat-mdc-list-item-content,
    mat-icon {
      color: $active-color;
    }
  }
}

  $veidemann-typography: (
    plain-family: Lato,
    brand-family: Sans-Serif,
    regular-weight: 300,
    medium-weight: 500,
    bold-weight: 900,
  );

  $veidemann-dashboard-theme: mat.define-theme((
    color: (
      primary: theme-colors.$primary-palette,
      tertiary: theme-colors.$tertiary-palette,
    ),
    typography: $veidemann-typography,
    density: (scale: 0),
  ));

  @mixin veidemann-theme() {
    html {
      color-scheme: light dark;
      @include mat.theme($veidemann-dashboard-theme);
      @include highlight($veidemann-dashboard-theme);
      @include nav-bar-link($veidemann-dashboard-theme);
      @include veidemann-nav-list-style($veidemann-dashboard-theme);
      @include main-toolbar-style($veidemann-dashboard-theme);
      @include veidemann-button-variants($veidemann-dashboard-theme);
      @include veidemann-disabled-configs($veidemann-dashboard-theme);
    }

    @include mat.all-component-typographies($veidemann-typography);
  }




